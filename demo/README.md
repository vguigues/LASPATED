# Demo

This directory contains examples on how to use the python module and the C++ application. The demo_discretization.py illustrates the discretization features. The demo_calibration_regularized and demo_calibration_covariates illustrates how to write model files and invoke the C++ application.

## Python module

With the laspated module installed, you can run the demo as:

    python demo_discretization.py <region> <geo_disc>

The command above will generate a discretization and save model files (with information about the arrivals and the discretization) that can be used in the C++ application.

The parameter \<region\> defines the bounding region for the discretization and can be one of the following values: rectangle, convex or custom. The rectangle ( or convex) option creates a rectangle (or a approximate convex hull) around the emergency calls in the example Data/sorted_events.csv file. The custom option uses the example Data/rj/rj.shp Shapefile, containing the Rio de Janeiro city limits. 

The \<geo_disc\> defines the type of discretization and can be one of the following values: rectangle, hexagon and custom. The rectangle (or hexagon) option discretizes the region in rectangles (or hexagons). The custom option loads the example Data/rio_de_janeiro_neighborhoods/rio_neighborhoods.shp Shapefile, containing the Rio de Janeiro administrative regions.

The files generated by laspated are saved inside the disc_data directory. For more information on the files formats see the [Laspated user manual](https://arxiv.org/abs/2407.13889)


## C++ application

After compiling the C++ application (see [INSTALL.md](../INSTALL.md)), the C++ demo files can be run with:

    python demo_calibration_regularized.py
    python demo_calibration_covariates.py


The calibration scripts create the model files and invoke the C++ application. The model files and the output from the C++ application are saved in the calib_data_covariates and calib_data_regularized directories.